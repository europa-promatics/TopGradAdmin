<section class="edit-employer-sec">
	<div class="container">
		<div class="row">
			<div class="col-md-12">
				<div class="card">
					<div class="card-header">
						<strong>Add Sub Admin</strong>
					</div>
					<div class="card-body">
						<div class="edit-wrapper">

							<div class="edit-form mt-4">
								<form [formGroup]="addSubAdminForm" (ngSubmit)="submitSubAdminForm()">
									<div class="text-center edit-profile">

										<span class="user_dp position-relative">
											<img [src]="imageFile ? imageFile :'assets/img/dummy.png'"
												class="img-fluid">
											<mat-icon class="material-icons-outlined dp-icon">edit</mat-icon>
											<input type="file" name="" class="dp-input" accept="image/*"
												(change)="changeImage($event)" formControlName="image">
										</span>
										<div
											*ngIf="!addSubAdminForm.controls['image'].valid && addSubAdminForm.controls['image'].touched">
											<p style="color: #f90202"
												*ngIf="addSubAdminForm.controls['image'].touched && addSubAdminForm.controls['image'].hasError('required')">
												Please upload image
											</p>
										</div>
									</div>
									<div class="edit-form-fields">
										<div class="row justify-content-center">
											<div class="col-md-8">
												<div class="row">
													<div class="col-md-6">
														<div class="form-group">
															<label>First Name</label>
															<input type="text" name="" class="form-control"
																formControlName="first_name"
																oninput="this.value = !this.value.trim() ? this.value.trim() : this.value">
															<div *ngIf="(addSubAdminForm.controls.first_name?.touched || addSubAdminForm.controls.first_name?.dirty)
														           && addSubAdminForm.controls.first_name?.invalid && addSubAdminForm.controls.first_name?.errors?.required"
																style="color:red">
																Please enter first name
															</div>
															<div style="color: #f90202"
																*ngIf="addSubAdminForm.controls['first_name'].errors?.pattern">
																Please enter only alphabets
															</div>
														</div>

													</div>
													<div class="col-md-6">
														<div class="form-group">
															<label>Last Name</label>
															<input type="text" name="" class="form-control"
																formControlName="last_name"
																oninput="this.value = !this.value.trim() ? this.value.trim() : this.value">
															<div *ngIf="(addSubAdminForm.controls.last_name?.touched || addSubAdminForm.controls.last_name?.dirty)
														            && addSubAdminForm.controls.last_name?.invalid && addSubAdminForm.controls.last_name?.errors?.required"
																style="color:red">
																Please enter last name
															</div>
															<div style="color: #f90202"
																*ngIf="addSubAdminForm.controls['last_name'].errors?.pattern">
																Please enter only alphabets
															</div>
														</div>
													</div>
												</div>
												<div class="row">
													<div class="col-md-6">
														<div class="form-group">
															<label>Email Address</label>
															<input type="text" name="" class="form-control"
																formControlName="email"
																oninput="this.value = !this.value.trim() ? this.value.trim() : this.value">
															<div
																*ngIf="!addSubAdminForm.controls['email'].valid && addSubAdminForm.controls['email'].touched">
																<p style="color: #f90202"
																	*ngIf="addSubAdminForm.controls['email'].touched && addSubAdminForm.controls['email'].hasError('required')">
																	Please enter email
																</p>
																<div style="color: #f90202"
																	*ngIf="addSubAdminForm.controls['email'].errors?.pattern">
																	Email must be a valid email address</div>
															</div>
														</div>

													</div>
													<div class="col-md-6">
														<div class="form-group">
															<label>Contact Number</label>
															<input type="text" name="" class="form-control"
																formControlName="phone_no"
																oninput="this.value = !this.value.trim() ? this.value.trim() : this.value"
																oninput="this.value = this.value.replace(/[^0-9]/g, '').replace(/(\..*)\./g, '$1');">
															<p style="color: red"
																*ngIf="addSubAdminForm.controls['phone_no'].hasError('required') &&addSubAdminForm.controls['phone_no'].touched">
																Please enter contact number
															</p>
															<p style="color: red"
																*ngIf="!addSubAdminForm.controls['phone_no'].hasError('required') && addSubAdminForm.controls['phone_no'].hasError('pattern')">
																Please enter valid digit contact number
															</p>
															<p style="color: red"
																*ngIf="!addSubAdminForm.controls['phone_no'].hasError('required') && addSubAdminForm.controls['phone_no'].hasError('minlength')">
																Please enter the digits minimum 7 or maximum 15
															</p>
															<p style="color: red"
																*ngIf="!addSubAdminForm.controls['phone_no'].hasError('required') && addSubAdminForm.controls['phone_no'].hasError('maxlength')">
																Please enter the digits minimum 7 or maximum 15
															</p>
														</div>

													</div>
												</div>
												<div class="row">
													<div class="col-md-6">
														<div class="form-group">
															<label>Status</label>
															<select class="form-control" formControlName="status">
																<option value="active">Active</option>
																<option value="inactive">Inactive</option>
															</select>
															<div
																*ngIf="!addSubAdminForm.controls['status'].valid && addSubAdminForm.controls['status'].touched">
																<p style="color: #f90202"
																	*ngIf="addSubAdminForm.controls['status'].touched && addSubAdminForm.controls['status'].hasError('required')">
																	Please select status
																</p>
															</div>
														</div>

													</div>
												</div>
											</div>
										</div>
									</div>

									<div class="row justify-content-center">
										<div class="col-md-8">
											<div class="edit-btns d-flex justify-content-end">
												<button class="btn btn-primary mr-4" type="submit">
													Save
												</button>
												<button class="btn btn-primary" routerLink="/subAdminManagement">
													Cancel
												</button>
											</div>
										</div>
									</div>

								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>